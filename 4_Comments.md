# 4. 주석

> “나쁜 코드에 주석을 달지 마라. 새로 짜라 “
> 
> 
> 브라이언 W. 커니핸，P.J. 플라우게
> 

잘 달린 주석은 그 어떤 정보보다 유용하다. 경솔하고 근거 없는 주석은 코드 이해를 어렵게 한다. 오래되고 조잡한 코드는 거짓과 잘못된 정보를 퍼뜨린다.

우리에게 프로그래밍 언어를 치밀하게 사용해 의도를 표현할 능력이 있다면, 주석은 필요하지 않다.

주석이 필요한 시점이 오면 코드로 표현할 방법이 없는지를 생각해보라. 주석을 달고 있다는 것은 나에게 표현력이 없다는 뜻이다.

부정확한 주석은 없으니만 못하다. 진실은 오직 코드에만 있다! 주석을 가능한 줄이려고 노력하자!
<br/><br/>
## 주석은 나쁜 코드를 보완하지 못한다

코드에 주석을 추가하는 일반적인 이유는 코드 품질이 나쁘기 때문이다.

자신이 저지른 난장판을 주석으로 설명 하려 애쓰는 대신에 그 난장판을 깨끗이 치우는 데 시간을 보내라!
<br/><br/>
## 코드로 의도를 표현하라!

많은 경우에 굳이 주석을 달 필요가 없다. 코드로 대다수의 의도를 표현할 수 있기 때문이다. 몇 초만 더 생각하면 된다.
<br/><br/>
## 좋은 주석

어떤 주석은 필요하거나 유용하다. 그래도 주석을 달지 않는게 제일 좋다.

- 법적인 주석
    - 소스 코드 첫머리에 들어가는 저작권, 소유권 정보는 필요하다.
- 정보를 제공하는 주석
    - 때때로 기본적인 정보를 제공해주는 주석은 유용하다. 하지만 가능하다면 변수명, 함수명에 정보를 담는편이 좋다.
- 의도를 설명하는 주석
    - 때때로 주석은 이해를 돕는 수준이 아니라 결정에 깔린 의도까지 설명한다.
- 의도를 명료하게 밝히는 주석
    - 인수나 반환값이 표준 라이브러리등 변경할 수 없는 코드에 속한다면, 어쩔수 없이 의미를 밝히는 주석을 사용하는것이 유용하다.
    - 다만, 주석은 올바른지 검증이 어렵다. 맹신하지도 말고, 어지간하면 주석을 달지도 마라.
- 결과를 경고하는 주석
    - 다른 개발자에게 결과를 경고할 목적으로 사용하기도 한다.
- TODO 주석
    - 때로는 앞으로 할 일을 TODO 로 남겨두면 편하다. 단, 시스템에 나쁜 코드를 남겨 놓는 핑계로 사용되어선 안된다.
- 중요성을 강조하는 주석
    - 자칫 대수롭지 않게 넘길 수 있는 부분을 강조하기 위해서 사용하기도 한다.
<br/><br/>
## 나쁜 주석

대다수의 주석은 나쁘다. 보통 주석은 허술한 코드를 지탱하거나, 엉성한 코드를 변명하거나, 미숙한 결정을 합리화하는 정도다.

- 주절거리는 주석
    - 특별한 이유 없이 혹은 어떤 프로세스에서 하라고 하니까 주석을 단다면 전적으로 시간낭비다.
    - 주석을 달기로 결정했다면 충분한 시간을 들여 최고의 주석을 달도록 노력한다.
    - 이해를 위해 존재하는 주석이 이해가 안되는 내용으로 쓰여있다면 그런 주석은 바이트만 낭비할 뿐이다. 버려라.
- 같은 얘기를 반복하는 주석
    - 헤더에 달린 주석이 코드의 내용을 그대로 설명한다면 쓸데없는 주석이다.
    - 오히려 코드가 더 정확하다.
- 오해의 여지가 있는 주석
    - 의도는 좋더라도 딱 맞을정도로 엄밀하게 주석을 달지 못할때도 있다.
    - 오해의 여지가 있는 주석은 없는게 낫다.
- 의무적으로 다는 주석
    - 모든 함수에 Javadocs 달거나, 모든 변수에 주석을 달아야 한다는 규칙은 어리석다.
    - 오히려 코드만 헷갈리게 하고, 거짓말 할 가능성을 높이고 잘못된 정보를 제공할 가능성만 높인다.
- 이력을 기록하는 주석
    - 때로 모듈을 편집할 때마다 모듈 첫머리에 주석을 추가하며, 그 주석은 모듈에 가한 모든 변경을 기록하는 로그처럼 된다.
    - 형상관리 도구만으로 충분하므로, 이력을 기록하는 주석은 지워라.
- 있으나 마나 한 주석
    - 너무나 당연한 사실을 언급하는 주석은 필요없다.
    
    ```swift
    /// 기본 생성자
    init() { }
    
    /// 월 중 일자를 반환한다.
    /// - Returns: 월 중 일자
    func getDayOfMonth() {
            return dayOfMonth
    }
    ```
    
    - 위와 같은 주석은 지나친 참견이라 개발자가 주석을 무시하는 습관에 빠진다.
    - 분풀이를 위한 주석 달지말고, 화낼 시간에 코드 구조를 개선해라.
    - 있으나 마나 한 주석을 달려는 유혹에서 벗어나 코드를 정리하라.
- 무서운 잡음
    - 때로는 Javadocs 도 잡음이다.
    
    ```swift
    /// The name.
    let name: String
    /// The version.
    let version: String
    ```
    
    - 위와 같은 주석이 무슨 의미가 있는가? 그냥 잡음일 뿐이다.
- 함수나 변수로 표현할 수 있다면 주석을 달지 마라
- 위치를 표시하는 주석
    - 유용한 경우도 있지만, 남용하면 독자가 혼란으로 여겨 무시한다.
- 닫는 괄호에 작성하는 주석
    - 중첩이 심하거나 장황한 함수라면 주석을 달지말고 함수를 줄여라.
- 공로를 돌리거나 저자를 표시하는 주석
    - 소스 관리 시스템으로 대체한다.
- 주석으로 처리한 코드
    - 주석으로 처리된 코드는 왠지 언젠가는 필요할 것 같아서 지우기를 주저한다.
    - 그래서 쓰레기가 쌓인다.
    - 소스 관리 시스템이 알아서 기억하므로 다 지워라.
- HTML 주석
- 전역 정보
    - 주석을 달아야 한다면 주변에 있는 코드만 기술해라.
    - 엉뚱한 위치에 시스템 전반의 정보를 기술하지 말아라.
- 너무 많은 정보
    - 주석에다가 흥미로운 역사나 관련 없는 정보를 장황하게 늘어놓지 마라.
- 모호한 관계
    - 주석과 주석이 설명하는 코드는 관계가 명백해야 한다.
    - 주석 자체가 또 설명을 요구한다면 쓸모없는 주석이다.
- 함수 헤더
    - 짧고 한가지만 수행하며, 이름을  잘 지은 함수가 주석으로 헤더를 추가한 것보다 좋다.
- 비공개 코드에서 Javadocs
    - 공개되지 않을 코드라면 Javadocs 는 필요 없다. 오히려 지저분해진다.
